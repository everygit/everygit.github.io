(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{368:function(a,t,r){"use strict";r.r(t);var s=r(43),e=Object(s.a)({},(function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h1",{attrs:{id:"transformable-类"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#transformable-类"}},[a._v("#")]),a._v(" Transformable 类")]),a._v(" "),r("h2",{attrs:{id:"概述"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[a._v("#")]),a._v(" 概述")]),a._v(" "),r("p",[a._v("提供变换扩展, 平移、旋转、缩放等功能")]),a._v(" "),r("h2",{attrs:{id:"构造函数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#构造函数"}},[a._v("#")]),a._v(" 构造函数")]),a._v(" "),r("p",[a._v("根据参数初始化平移、旋转、缩放等默认值。")]),a._v(" "),r("h3",{attrs:{id:"position"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#position"}},[a._v("#")]),a._v(" "),r("code",[a._v("position")])]),a._v(" "),r("p",[a._v("位移，类型： number[]。")]),a._v(" "),r("h3",{attrs:{id:"rotation"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rotation"}},[a._v("#")]),a._v(" "),r("code",[a._v("rotation")])]),a._v(" "),r("p",[a._v("旋转的弧度，类型： number。")]),a._v(" "),r("h3",{attrs:{id:"scale"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#scale"}},[a._v("#")]),a._v(" "),r("code",[a._v("scale")])]),a._v(" "),r("p",[a._v("缩放，类型： number[]。")]),a._v(" "),r("h3",{attrs:{id:"origin"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#origin"}},[a._v("#")]),a._v(" "),r("code",[a._v("origin")])]),a._v(" "),r("p",[a._v("旋转和缩放的原点，类型： number[]。")]),a._v(" "),r("h3",{attrs:{id:"transform"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#transform"}},[a._v("#")]),a._v(" "),r("code",[a._v("transform")])]),a._v(" "),r("p",[a._v("矩阵形式表示位移、旋转、缩放，类型： zrender.matrix")]),a._v(" "),r("blockquote",[r("p",[a._v("src\\Element.js")])]),a._v(" "),r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// drift")]),a._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("transform "),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),r("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),r("h2",{attrs:{id:"类方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#类方法"}},[a._v("#")]),a._v(" 类方法")]),a._v(" "),r("h3",{attrs:{id:"getlocaltransform"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#getlocaltransform"}},[a._v("#")]),a._v(" "),r("code",[a._v("getLocalTransform")])]),a._v(" "),r("h2",{attrs:{id:"原型方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#原型方法"}},[a._v("#")]),a._v(" 原型方法")]),a._v(" "),r("h3",{attrs:{id:"needlocaltransform"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#needlocaltransform"}},[a._v("#")]),a._v(" "),r("code",[a._v("needLocalTransform")])]),a._v(" "),r("p",[a._v("判断是否需要有坐标变换")]),a._v(" "),r("p",[a._v("如果有坐标变换, 则从position, rotation, scale以及父节点的transform计算出自身的transform矩阵")]),a._v(" "),r("h3",{attrs:{id:"updatetransform"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#updatetransform"}},[a._v("#")]),a._v(" "),r("code",[a._v("updateTransform")])]),a._v(" "),r("h3",{attrs:{id:"getlocaltransform-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#getlocaltransform-2"}},[a._v("#")]),a._v(" "),r("code",[a._v("getLocalTransform")])]),a._v(" "),r("h3",{attrs:{id:"settransform"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#settransform"}},[a._v("#")]),a._v(" "),r("code",[a._v("setTransform")])]),a._v(" "),r("p",[a._v("将自己的transform应用到context上")]),a._v(" "),r("h3",{attrs:{id:"restoretransform"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#restoretransform"}},[a._v("#")]),a._v(" "),r("code",[a._v("restoreTransform")])]),a._v(" "),r("h3",{attrs:{id:"setlocaltransform"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#setlocaltransform"}},[a._v("#")]),a._v(" "),r("code",[a._v("setLocalTransform")])]),a._v(" "),r("h3",{attrs:{id:"decomposetransform"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#decomposetransform"}},[a._v("#")]),a._v(" "),r("code",[a._v("decomposeTransform")])]),a._v(" "),r("p",[a._v("分解 "),r("code",[a._v("transform")]),a._v(" 矩阵到 "),r("code",[a._v("position")]),a._v("、 "),r("code",[a._v("rotation")]),a._v("、 "),r("code",[a._v("scale")]),a._v("。通常用于修改 "),r("code",[a._v("transform")]),a._v(" 后同步 "),r("code",[a._v("position")]),a._v("、 "),r("code",[a._v("rotation")]),a._v("、 "),r("code",[a._v("scale")]),a._v(" 属性。")]),a._v(" "),r("h3",{attrs:{id:"getglobalscale"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#getglobalscale"}},[a._v("#")]),a._v(" "),r("code",[a._v("getGlobalScale")])]),a._v(" "),r("p",[a._v("获取全局缩放值")]),a._v(" "),r("h3",{attrs:{id:"transformcoordtolocal"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#transformcoordtolocal"}},[a._v("#")]),a._v(" "),r("code",[a._v("transformCoordToLocal")])]),a._v(" "),r("p",[a._v("变换坐标位置到 shape 的局部坐标空间")]),a._v(" "),r("h3",{attrs:{id:"transformcoordtoglobal"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#transformcoordtoglobal"}},[a._v("#")]),a._v(" "),r("code",[a._v("transformCoordToGlobal")])]),a._v(" "),r("p",[a._v("变换局部坐标位置到全局坐标空间")])])}),[],!1,null,null,null);t.default=e.exports}}]);