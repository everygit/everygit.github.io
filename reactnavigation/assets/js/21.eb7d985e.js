(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{379:function(e,a,t){"use strict";t.r(a);var s=t(45),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"故障排除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#故障排除"}},[e._v("#")]),e._v(" 故障排除")]),e._v(" "),t("p",[e._v("本节试图概述用户在第一次习惯使用 React Navigation 时经常遇到的问题。这些问题可能与 React Navigation 本身有关，也可能无关。")]),e._v(" "),t("p",[e._v("在解决问题之前，请确保您已经升级到软件包的最新可用版本。你可以通过重新安装包来安装最新版本(例如"),t("code",[e._v("npm install package-name")]),e._v(")。")]),e._v(" "),t("h2",{attrs:{id:"我得到一个错误-unable-to-resolve-module-更新到最新版本后"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#我得到一个错误-unable-to-resolve-module-更新到最新版本后"}},[e._v("#")]),e._v(" 我得到一个错误“Unable to resolve module”更新到最新版本后")]),e._v(" "),t("p",[e._v("这可能有 3 个原因:")]),e._v(" "),t("p",[e._v("Metro 捆绑器陈旧的缓存")]),e._v(" "),t("p",[e._v("如果模块指向一个本地文件(即模块名以 "),t("code",[e._v("./")]),e._v(" 开头)，那么这可能是由于过时的缓存。要解决这个问题，可以尝试以下解决方案。")]),e._v(" "),t("p",[e._v("如果你正在使用 Expo，请运行:")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("expo start -c\n")])])]),t("p",[e._v("如果你没有使用 Expo，请运行:")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("npx react-native start --reset-cache\n")])])]),t("p",[e._v("如果这不起作用，你也可以尝试以下方法:")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("rm")]),e._v(" -rf "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$TMPDIR")]),e._v("/metro-bundler-cache-*\n")])])]),t("h2",{attrs:{id:"失踪的-peer-dependency"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#失踪的-peer-dependency"}},[e._v("#")]),e._v(" 失踪的 peer dependency")]),e._v(" "),t("p",[e._v("如果模块指向一个 npm 包(即模块的名称没有使用"),t("code",[e._v("./")]),e._v(")，那么这可能是由于缺少依赖关系。要解决这个问题，在你的项目中安装依赖项:")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" name-of-the-module\n")])])]),t("p",[e._v("有时它甚至可能是由于一个损坏的安装。如果清理缓存不起作用，请尝试删除你的 "),t("code",[e._v("node_modules")]),e._v(" 文件夹，然后再次运行 "),t("code",[e._v("npm install")]),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"metro-配置中缺少扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#metro-配置中缺少扩展"}},[e._v("#")]),e._v(" metro 配置中缺少扩展")]),e._v(" "),t("p",[e._v("有时错误看起来像这样:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('Error: While trying to resolve module "@react-navigation/native" from file "/path/to/src/App.js", the package "/path/to/node_modules/@react-navigation/native/package.json" was successfully found. However, this package itself specifies a "main" module field that could not be resolved ("/path/to/node_modules/@react-navigation/native/src/index.tsx"\n')])])]),t("p",[e._v("如果您有 metro 的自定义配置，但没有指定 "),t("code",[e._v("ts")]),e._v(" 和 "),t("code",[e._v("tsx")]),e._v(" 作为有效扩展，就可能发生这种情况。这些扩展显示在默认配置中。要检查是否存在这个问题，请在项目中查找 "),t("code",[e._v("metro.config.js")]),e._v(" 文件，并检查是否指定了 "),t("code",[e._v("sourceExts")]),e._v(" 选项。它至少应该有以下配置:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sourceExts: ['js', 'json', 'ts', 'tsx'];\n")])])]),t("p",[e._v("如果缺少这些扩展，请添加它们，然后清除 metro 缓存，如上面一节所示。")])])}),[],!1,null,null,null);a.default=r.exports}}]);