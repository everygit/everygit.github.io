(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{380:function(t,a,s){"use strict";s.r(a);var e=s(45),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"hello-react-navigation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hello-react-navigation"}},[t._v("#")]),t._v(" Hello React Navigation")]),t._v(" "),s("p",[t._v("在 Web 浏览器中，可以使用锚点（"),s("code",[t._v("<a>")]),t._v("）标记链接到不同的页面。当用户单击链接时，URL 将被推送到浏览器历史记录堆栈。当用户按下“后退”按钮时，浏览器从历史记录堆栈的顶部弹出该项目，因此活动页面现在是先前访问的页面。 React Native 不像 Web 浏览器那样具有内置的全局历史堆栈概念，这就是 React Navigation 进入故事的地方。")]),t._v(" "),s("p",[t._v("React Navigation 的堆栈导航器（stack navigator）为您的应用程序提供了一种在屏幕之间转换和管理导航历史记录的方式。如果您的应用仅使用一个堆栈导航器，那么它在概念上类似于 Web 浏览器处理导航状态的方式 - 您的应用在用户与之交互时从导航堆栈中 push 和 pop 项目，使得用户看到不同的屏幕。它在 Web 浏览器和 React Navigation 中的工作方式之间的主要区别在于，React Navigation 提供了你可能期望的在 Android 和 iOS 中路由导航时的手势和动画")]),t._v(" "),s("p",[t._v("让我们从最常见的导航器 "),s("code",[t._v("createStackNavigator")]),t._v(" 开始演示。")]),t._v(" "),s("h2",{attrs:{id:"安装堆栈导航器-stack-navigator-库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装堆栈导航器-stack-navigator-库"}},[t._v("#")]),t._v(" 安装堆栈导航器（stack navigator）库")]),t._v(" "),s("p",[t._v("到目前为止，我们已经安装的库是导航器的构建块和基础共享库，而且 React Navigation 中的每种导航器都位于其自己的库中。 要使用堆栈导航器，我们需要安装 "),s("code",[t._v("@react-navigation/stack")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm install @react-navigation/stack\n")])])]),s("st-quote",[s("p",[s("code",[t._v("@react-navigation/stack")]),t._v(" 依赖 "),s("code",[t._v("@react-native-community/masked-view")]),t._v(" 以及我们在《"),s("RouterLink",{attrs:{to:"/"}},[t._v("入门指南")]),t._v("》中安装的其他库。 如果尚未安装，请转到该页面并按照安装说明进行操作。")],1)]),t._v(" "),s("h2",{attrs:{id:"创建堆栈导航器-stack-navigator"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建堆栈导航器-stack-navigator"}},[t._v("#")]),t._v(" 创建堆栈导航器（stack navigator）")]),t._v(" "),s("p",[s("code",[t._v("createStackNavigator")]),t._v(" 是一个函数，该函数返回包含 2 个属性的对象："),s("code",[t._v("Screen")]),t._v(" 和 "),s("code",[t._v("Navigator")]),t._v("。 它们都是用于配置导航器的 React 组件。 导航器应包含 "),s("code",[t._v("Screen")]),t._v(" 元素作为其子元素，以定义路由的配置。")]),t._v(" "),s("p",[s("code",[t._v("NavigationContainer")]),t._v(" 是管理导航树并包含 "),s("a",{attrs:{href:"https://reactnavigation.org/docs/navigation-state",target:"_blank",rel:"noopener noreferrer"}},[t._v("导航状态"),s("OutboundLink")],1),t._v("的组件。 该组件必须包装所有导航器结构。 通常，我们会在应用程序的根组件下渲染此组件，该组件通常是从 App.js 导出的组件。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// In App.js in a new project")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" React "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" View"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Text "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-native"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" NavigationContainer "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@react-navigation/native"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createStackNavigator "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@react-navigation/stack"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("HomeScreen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("View style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" flex"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" alignItems"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"center"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" justifyContent"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"center"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Home Screen"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("View"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Stack "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStackNavigator")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("NavigationContainer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Home"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("HomeScreen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("NavigationContainer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("img",{attrs:{src:t.$withBase("/images/8433.png"),alt:"fsdfsd"}}),t._v(" "),s("p",[t._v("如果运行此代码，您将看到一个屏幕，其中包含一个空的导航栏和一个包含 "),s("code",[t._v("HomeScreen")]),t._v(" 组件的灰色内容区域（如上所示）。 您在导航栏和内容区域中看到的样式是堆栈导航器的默认配置，我们将在以后学习如何配置这些样式。")]),t._v(" "),s("blockquote",[s("p",[t._v("路由名称的大小写并不重要，你可以用小写的 "),s("code",[t._v("home")]),t._v(" 或者大写的 "),s("code",[t._v("Home")]),t._v("， 由你决定。我们更喜欢把路由名大写。")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("Screen")]),t._v(" 唯一需要的配置是 "),s("code",[t._v("name")]),t._v(" 和 "),s("code",[t._v("component")]),t._v(" 属性，您可以在 "),s("a",{attrs:{href:"https://reactnavigation.org/docs/stack-navigator/",target:"_blank",rel:"noopener noreferrer"}},[t._v("堆栈导航器参考"),s("OutboundLink")],1),t._v(" 中了解更多可用的其他选项。")])]),t._v(" "),s("h2",{attrs:{id:"配置导航器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置导航器"}},[t._v("#")]),t._v(" 配置导航器")]),t._v(" "),s("p",[t._v("所有的路由配置都使用导航器的 props 来指定。 我们尚未将任何 props 传递给导航器，因此它仅使用默认配置。")]),t._v(" "),s("p",[t._v("让我们向堆栈导航器添加第二个屏幕，并将 Home 屏幕配置为首要渲染：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DetailsScreen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("View style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" flex"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" alignItems"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"center"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" justifyContent"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"center"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Details Screen"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("View"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Stack "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStackNavigator")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("NavigationContainer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator initialRouteName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Home"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Home"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("HomeScreen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Details"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("DetailsScreen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("NavigationContainer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("现在我们的堆栈有两个路由，一个 "),s("code",[t._v("Home")]),t._v(" 路由和一个 "),s("code",[t._v("Details")]),t._v(" 路由。可以使用 "),s("code",[t._v("Screen")]),t._v(" 组件指定路由。"),s("code",[t._v("Screen")]),t._v(" 组件接受一个 "),s("code",[t._v("name")]),t._v("，它对应于我们将用来导航的路由的名称，以及一个组 "),s("code",[t._v("component")]),t._v("，它对应于它将渲染的组件。")]),t._v(" "),s("p",[t._v("这里，"),s("code",[t._v("Home")]),t._v(" 路由对应于 "),s("code",[t._v("HomeScreen")]),t._v(" 组件，"),s("code",[t._v("Details")]),t._v(" 路由对应于 "),s("code",[t._v("DetailsScreen")]),t._v(" 组件。堆栈的初始路由是 "),s("code",[t._v("Home")]),t._v(" 路由。尝试将其更改为 "),s("code",[t._v("Details")]),t._v(" 并重新加载应用程序(React Native 的 "),s("code",[t._v("Fast Refresh")]),t._v(" 不会如你所期望的那样从 "),s("code",[t._v("initialRouteName")]),t._v(" 更新更改)，注意，你现在会看到 "),s("code",[t._v("Details")]),t._v(" 屏幕。然后将其更改为 "),s("code",[t._v("Home")]),t._v(" 并重新加载一次。")]),t._v(" "),s("st-quote",[s("p",[t._v("注意:"),s("code",[t._v("component")]),t._v(" 接受的是组件，而不是渲染函数。不要传递内联函数(例如 "),s("code",[t._v("component={() => <HomeScreen/>}")]),t._v(")，否则当父组件重新渲染时，你的组件会卸载和重新挂载失去所有状态。请参阅 "),s("a",{attrs:{href:"#%E4%BC%A0%E9%80%92%E9%A2%9D%E5%A4%96%E7%9A%84%E5%B1%9E%E6%80%A7"}},[t._v("传递额外的 props")]),t._v(" 以获得替代方案。")])]),t._v(" "),s("h2",{attrs:{id:"指定选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指定选项"}},[t._v("#")]),t._v(" 指定选项")]),t._v(" "),s("p",[t._v("导航器中的每个屏幕都可以为导航器指定一些选项，比如要在标题中渲染的标题。这些选项可以在每个屏幕组件的 options 属性中传递:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen\n  name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Home"')]),t._v("\n  component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("HomeScreen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  options"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Overview"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("有时，我们希望为导航器中的所有屏幕指定相同的选项。为此，我们可以向导航器传递一个 "),s("code",[t._v("screenOptions")]),t._v(" 属性。")]),t._v(" "),s("h2",{attrs:{id:"传递额外的属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传递额外的属性"}},[t._v("#")]),t._v(" 传递额外的属性")]),t._v(" "),s("p",[t._v("有时我们可能想将其他属性传递到 screen 上。 我们可以通过 2 种方法来做到这一点：")]),t._v(" "),s("ol",[s("li",[t._v("使用 "),s("a",{attrs:{href:"https://reactjs.org/docs/context.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("React context"),s("OutboundLink")],1),t._v("，并用上下文提供程序包装导航器，以将数据传递到屏幕（推荐）。")]),t._v(" "),s("li",[t._v("对 "),s("code",[t._v("Screen")]),t._v(" 使用渲染回调，而不要指定 "),s("code",[t._v("component")]),t._v(" ：")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Home"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("HomeScreen "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" extraData"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("someData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("注意：默认情况下，React Navigation 将优化应用于 "),s("code",[t._v("Screen")]),t._v(" 组件，以防止不必要的渲染。 使用渲染回调将删除这些优化。 因此，如果您使用渲染回调，则需要确保对屏幕组件使用 "),s("code",[t._v("React.memo")]),t._v(" 或 "),s("code",[t._v("React.PureComponent")]),t._v(" 以避免性能问题。")])]),t._v(" "),s("h2",{attrs:{id:"下一步是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下一步是什么"}},[t._v("#")]),t._v(" 下一步是什么？")]),t._v(" "),s("p",[t._v("此时的自然问题是：“如何从 "),s("code",[t._v("Home")]),t._v(" 路由转到 "),s("code",[t._v("Details")]),t._v(" 路由？”。 下一部分将对此进行介绍。")]),t._v(" "),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("ul",[s("li",[t._v("React Native 没有像 Web 浏览器那样的内置 API 用于导航。 React Navigation 为您提供此功能，以及 iOS 和 Android 手势和动画以在屏幕之间切换。")]),t._v(" "),s("li",[s("code",[t._v("Stack.Navigator")]),t._v(" 是一个组件，它将路由配置作为其子级，并带有用于配置的额外 props 并渲染我们的内容。")]),t._v(" "),s("li",[t._v("每个 "),s("code",[t._v("Stack.Screen")]),t._v(" 组件都有一个 "),s("code",[t._v("name")]),t._v(" ，它将作为路由的名称，而 "),s("code",[t._v("component")]),t._v(" 则指定了要为该路由渲染的组件。 这些是 2 个必需的道具。")]),t._v(" "),s("li",[t._v("要指定堆栈中的初始路由是什么，请提供为导航器指定 "),s("code",[t._v("initialRouteName")]),t._v("。")]),t._v(" "),s("li",[t._v("要指定特定于屏幕的选项，我们可以将 "),s("code",[t._v("options")]),t._v(" 传递给 "),s("code",[t._v("Stack.Screen")]),t._v("，对于通用选项，我们可以将 "),s("code",[t._v("screenOptions")]),t._v(" 传递给 "),s("code",[t._v("Stack.Navigator")])])])],1)}),[],!1,null,null,null);a.default=n.exports}}]);