(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{371:function(t,a,s){"use strict";s.r(a);var n=s(45),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"嵌套导航"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#嵌套导航"}},[t._v("#")]),t._v(" 嵌套导航")]),t._v(" "),s("p",[t._v("嵌套导航器意味着在另一个导航器的屏幕中渲染一个导航器，例如:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Home")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Tab"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Tab"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Feed"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Feed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Tab"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Messages"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Messages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Tab"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("NavigationContainer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Home"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Profile"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Profile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Settings"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("NavigationContainer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("在上面的例子中，"),s("code",[t._v("Home")]),t._v(" 组件包含一个选项卡导航器（tab navigator）。"),s("code",[t._v("Home")]),t._v(" 组件也用于 "),s("code",[t._v("App")]),t._v(" 组件内堆栈导航器中的 "),s("code",[t._v("Home")]),t._v(" 屏幕。在这里，选项卡导航器嵌套在堆栈导航器中:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Stack.Navigator")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Home")]),t._v(" ("),s("code",[t._v("Tab.Navigator")]),t._v(")\n"),s("ul",[s("li",[s("code",[t._v("Feed")]),t._v(" ("),s("code",[t._v("Screen")]),t._v(")")]),t._v(" "),s("li",[s("code",[t._v("Messages")]),t._v(" ("),s("code",[t._v("Screen")]),t._v(")")])])]),t._v(" "),s("li",[s("code",[t._v("Profile")]),t._v(" ("),s("code",[t._v("Screen")]),t._v(")")]),t._v(" "),s("li",[s("code",[t._v("Settings")]),t._v(" ("),s("code",[t._v("Screen")]),t._v(")")])])])]),t._v(" "),s("p",[t._v("嵌套导航器的工作原理与常规组件嵌套非常相似。为了实现您想要的行为，通常需要嵌套多个导航器。")]),t._v(" "),s("h2",{attrs:{id:"嵌套导航器如何影响行为"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#嵌套导航器如何影响行为"}},[t._v("#")]),t._v(" 嵌套导航器如何影响行为")]),t._v(" "),s("p",[t._v("嵌套导航器时，需要记住以下几点:")]),t._v(" "),s("h3",{attrs:{id:"每个导航器保持自己的导航历史"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#每个导航器保持自己的导航历史"}},[t._v("#")]),t._v(" 每个导航器保持自己的导航历史")]),t._v(" "),s("p",[t._v("例如，当你在一个嵌套堆栈导航器的屏幕中按后退按钮时，它会回到嵌套堆栈中的上一个屏幕，即使有另一个导航器作为父类。")]),t._v(" "),s("h3",{attrs:{id:"每个导航器都有自己的选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#每个导航器都有自己的选项"}},[t._v("#")]),t._v(" 每个导航器都有自己的选项")]),t._v(" "),s("p",[t._v("例如，在嵌套在子导航器中的屏幕中指定 "),s("code",[t._v("title")]),t._v(" 选项不会影响父导航器中显示的标题。")]),t._v(" "),s("p",[t._v("如果您想实现这种行为，请参阅带有嵌套导航器的"),s("a",{attrs:{href:"https://reactnavigation.org/docs/screen-options-resolution#setting-parent-screen-options-based-on-child-navigators-state",target:"_blank",rel:"noopener noreferrer"}},[t._v("屏幕选项的指南"),s("OutboundLink")],1),t._v("。如果您正在堆栈导航器中呈现一个TAB导航器，并且希望在堆栈导航器头部的TAB导航器中显示活动屏幕的标题，那么这可能是有用的。")]),t._v(" "),s("h3",{attrs:{id:"导航器中的每个屏幕都有自己的参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导航器中的每个屏幕都有自己的参数"}},[t._v("#")]),t._v(" 导航器中的每个屏幕都有自己的参数")]),t._v(" "),s("p",[t._v("例如，在嵌套导航器中传递给屏幕的任何 "),s("code",[t._v("params")]),t._v(" 都在该屏幕的 "),s("code",[t._v("route")]),t._v(" 属性中，并且不能从父或子导航器中的屏幕访问。")]),t._v(" "),s("p",[t._v("如果你需要从子屏幕访问父屏幕的参数，你可以使用 "),s("a",{attrs:{href:"https://reactjs.org/docs/context.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Context"),s("OutboundLink")],1),t._v(" 向子屏幕公开参数。")]),t._v(" "),s("h3",{attrs:{id:"导航操作由当前导航器处理-如果不能处理-则向上冒泡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导航操作由当前导航器处理-如果不能处理-则向上冒泡"}},[t._v("#")]),t._v(" 导航操作由当前导航器处理，如果不能处理，则向上冒泡")]),t._v(" "),s("p",[t._v("例如，如果你在嵌套屏幕中调用 "),s("code",[t._v("navigation.goBack()")]),t._v("，它只会在父导航器中返回，如果你已经在导航器的第一个屏幕上。其他操作，与 "),s("code",[t._v("navigate")]),t._v(" 工作类似，即导航将发生在嵌套导航器，如果嵌套导航器不能处理它，那么父导航器将尝试处理它。在上面的例子中，当调用 "),s("code",[t._v("navigate('Messages')")]),t._v(" 时，在 "),s("code",[t._v("Feed")]),t._v(" 屏幕内，嵌套的标签导航器将处理它，但如果你调用 "),s("code",[t._v("navigate('Settings')")]),t._v("，父堆栈导航器将处理它。")]),t._v(" "),s("h3",{attrs:{id:"导航器的特定方法可以在内部嵌套的导航器中使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导航器的特定方法可以在内部嵌套的导航器中使用"}},[t._v("#")]),t._v(" 导航器的特定方法可以在内部嵌套的导航器中使用")]),t._v(" "),s("p",[t._v("例如，如果你在一个抽屉导航器中有一个堆栈导航器，那么这个抽屉的 "),s("code",[t._v("openDrawer")]),t._v(", "),s("code",[t._v("closeDrawer")]),t._v(", "),s("code",[t._v("toggleDrawer")]),t._v(" 等方法也可以在屏幕的堆栈导航器内部的 "),s("code",[t._v("navigation")]),t._v(" prop 中使用。但假设你有一个堆栈导航器作为抽屉的父类，那么堆栈导航器中的屏幕将不能访问这些方法，因为它们没有嵌套在抽屉中。")]),t._v(" "),s("p",[t._v("类似地，如果你在堆栈导航器中有一个选项卡导航器，选项卡导航器中的屏幕将在它们的 "),s("code",[t._v("navigation")]),t._v(" 属性中获得堆栈的 "),s("code",[t._v("push")]),t._v(" 和 "),s("code",[t._v("replace")]),t._v(" 方法。")]),t._v(" "),s("p",[t._v("如果你需要从父导航器中分派操作到嵌套的子导航器，你可以使用 "),s("code",[t._v("navigation.dispatch")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("navigation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("DrawerActions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toggleDrawer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"嵌套的导航器不接收父类的事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#嵌套的导航器不接收父类的事件"}},[t._v("#")]),t._v(" 嵌套的导航器不接收父类的事件")]),t._v(" "),s("p",[t._v("例如，如果一个堆栈导航器嵌套在一个选项卡导航器中，当使用 "),s("code",[t._v("navigation.addListener")]),t._v(" 时，堆栈导航器中的屏幕将不会接收父标签导航器(如"),s("code",[t._v("tabPress")]),t._v(")发出的事件。")]),t._v(" "),s("p",[t._v("为了从父导航器接收事件，你可以使用 "),s("code",[t._v("navigation.dangerouslyGetParent()")]),t._v(" 显式监听父导航器的事件:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" unsubscribe "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" navigation\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dangerouslyGetParent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tabPress'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Do something")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"父导航器的ui呈现在子导航器之上"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#父导航器的ui呈现在子导航器之上"}},[t._v("#")]),t._v(" 父导航器的UI呈现在子导航器之上")]),t._v(" "),s("p",[t._v("例如，当您在抽屉导航器中嵌套堆栈导航器时，您将看到抽屉导航器出现在堆栈导航器页眉的上方。但是，如果将抽屉导航器嵌套在堆栈中，则抽屉导航器将出现在堆栈页眉的下方。这是在决定如何嵌套导航器时需要考虑的重要一点。")]),t._v(" "),s("p",[t._v("在你的应用中，你可能会根据你想要的行为使用这些模式:")]),t._v(" "),s("ul",[s("li",[t._v("选项卡导航器嵌套在堆栈导航器的初始屏幕-新屏幕覆盖 "),s("code",[t._v("tab bar")]),t._v(" 时，你 "),s("code",[t._v("push")]),t._v(" 它们。")]),t._v(" "),s("li",[t._v("抽屉导航器嵌套在堆栈导航器的初始屏幕中，初始屏幕的堆栈头被隐藏 - 抽屉只能从堆栈的第一个屏幕打开。")]),t._v(" "),s("li",[t._v("堆栈导航器嵌套在抽屉导航器的每个屏幕中 — 抽屉显示在堆栈导航器页眉上方。")]),t._v(" "),s("li",[t._v("堆栈导航器嵌套在标签导航器的每个屏幕-标签栏总是可见的。通常，再次按下选项卡也会将堆栈弹出到顶部。")])]),t._v(" "),s("h2",{attrs:{id:"在嵌套导航器中导航到屏幕"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在嵌套导航器中导航到屏幕"}},[t._v("#")]),t._v(" 在嵌套导航器中导航到屏幕")]),t._v(" "),s("p",[t._v("考虑下面例子")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Root")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Profile"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Profile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Settings"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("NavigationContainer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Drawer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Drawer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Home"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Drawer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Root"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Drawer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("NavigationContainer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("在这里，你可能想要从你的 "),s("code",[t._v("Home")]),t._v(" 组件导航到 "),s("code",[t._v("Root")]),t._v(" 组件:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("navigation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("它工作了，并且显示了 "),s("code",[t._v("Root")]),t._v(" 组件内部的初始屏幕，即 "),s("code",[t._v("Profile")]),t._v("。但有时您可能想要控制应该在导航时显示的屏幕。为了实现它，你可以在 "),s("code",[t._v("params")]),t._v(" 中传递屏幕名称:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("navigation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" screen"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Settings'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("现在，"),s("code",[t._v("Settings")]),t._v(" 屏幕将在导航时呈现，而不是 "),s("code",[t._v("Profile")])]),t._v(" "),s("p",[t._v("这看起来可能与以前用于嵌套屏幕的导航方式非常不同。不同的是，在以前的版本中，所有的配置都是静态的，所以React Navigation可以通过递归到嵌套的配置中，静态地找到所有导航器的列表和它们的屏幕。但是对于动态配置，React Navigation 并不知道哪些屏幕可用，直到包含屏幕的导航器渲染。通常，一个屏幕在导航到它之前不会渲染它的内容，所以还没有渲染的导航器配置是不可用的。这就需要指定要导航到的层次结构。这也是为什么您应该尽可能少地嵌套导航器以使代码更简单的原因。")]),t._v(" "),s("h3",{attrs:{id:"在嵌套导航器中向屏幕传递参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在嵌套导航器中向屏幕传递参数"}},[t._v("#")]),t._v(" 在嵌套导航器中向屏幕传递参数")]),t._v(" "),s("p",[t._v("你也可以通过指定 "),s("code",[t._v("params")]),t._v(" key 来传递参数:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("navigation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  screen"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Settings'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  params"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jane'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("如果导航器已经x渲染，在堆栈导航器的情况下，导航到另一个屏幕将推入一个新屏幕。")]),t._v(" "),s("p",[t._v("对于深度嵌套的屏幕，可以采用类似的方法。注意，在这里 "),s("code",[t._v("navigate")]),t._v(" 的第二个参数只能是 "),s("code",[t._v("params")]),t._v("，所以你可以这样做:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("navigation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  screen"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Settings'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  params"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    screen"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Sound'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    params"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      screen"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Media'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("在上述情况下，您正在导航到 "),s("code",[t._v("Media")]),t._v(" 屏幕，它位于嵌套在 "),s("code",[t._v("Sound")]),t._v(" 屏幕中的导航器中，而 "),s("code",[t._v("Sound")]),t._v(" 屏幕又位于嵌套在 "),s("code",[t._v("Settings")]),t._v(" 屏幕中的导航器中。")]),t._v(" "),s("h3",{attrs:{id:"渲染导航器中定义的初始路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#渲染导航器中定义的初始路由"}},[t._v("#")]),t._v(" 渲染导航器中定义的初始路由")]),t._v(" "),s("p",[t._v("默认情况下，当在嵌套导航器中导航屏幕时，指定的屏幕被用作初始屏幕，导航器上的初始路由属性将被忽略。这种行为不同于 React Navigation 4。")]),t._v(" "),s("p",[t._v("如果你需要渲染导航器中指定的初始路由，你可以通过设置 "),s("code",[t._v("initial: false")]),t._v(" : 来禁用使用指定屏幕作为初始屏幕的行为。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("navigation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  screen"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Settings'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  initial"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"嵌套多个导航器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#嵌套多个导航器"}},[t._v("#")]),t._v(" 嵌套多个导航器")]),t._v(" "),s("p",[t._v("有时，嵌套多个导航器(如堆栈或抽屉)是有用的，例如，"),s("a",{attrs:{href:"https://reactnavigation.org/docs/modal",target:"_blank",rel:"noopener noreferrer"}},[t._v("将一些屏幕放在模态堆栈中，而将一些屏幕放在常规堆栈中"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("p",[t._v("当嵌套多个堆栈或抽屉导航器时，将显示来自子导航器和父导航器的头。然而，通常更可取的做法是在子导航器中显示头文件，而在堆栈导航器中隐藏头文件。")]),t._v(" "),s("p",[t._v("为了实现这一点，您可以使用 "),s("code",[t._v("headerShown: false")]),t._v(" 选项在包含导航器的屏幕中隐藏标题。")]),t._v(" "),s("p",[t._v("举个栗子:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Home")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("NestedStack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("NestedStack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Profile"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Profile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("NestedStack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Settings"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("NestedStack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("NavigationContainer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("RootStack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator mode"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"modal"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("RootStack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen\n          name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Home"')]),t._v("\n          component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          options"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" headerShown"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("RootStack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EditPost"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("EditPost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("RootStack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("NavigationContainer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("完整的例子可以在 "),s("a",{attrs:{href:"https://reactnavigation.org/docs/modal",target:"_blank",rel:"noopener noreferrer"}},[t._v("模态指南"),s("OutboundLink")],1),t._v(" 中找到。然而，这个原则并不只适用于模态堆栈，也适用于任何嵌套的导航器。")]),t._v(" "),s("p",[t._v("在这些例子中，我们使用了一个直接嵌套在另一个堆栈导航器中的堆栈导航器，但是同样的原理也适用于中间有其他导航器的情况，例如:在另一个堆栈导航器中的抽屉导航器中的堆栈导航器，在抽屉导航器中的堆栈导航器等等。")]),t._v(" "),s("p",[t._v("当嵌套多个堆栈导航器时，除非绝对必要，我们建议最多嵌套2个堆栈导航器。")]),t._v(" "),s("h2",{attrs:{id:"嵌套时的最佳实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#嵌套时的最佳实践"}},[t._v("#")]),t._v(" 嵌套时的最佳实践")]),t._v(" "),s("p",[t._v("我们建议尽量减少嵌套导航器。尝试用尽可能少的嵌套来实现您想要的行为。嵌套有很多缺点:")]),t._v(" "),s("ul",[s("li",[t._v("它会导致深度嵌套的视图层次结构，这可能导致低端设备的内存和性能问题")]),t._v(" "),s("li",[t._v("嵌套相同类型的导航器(例如标签内的标签，抽屉内的抽屉等)可能会导致令人困惑的用户体验")]),t._v(" "),s("li",[t._v("由于嵌套过多，代码在导航到嵌套屏幕、配置深度链接等时变得难以遵循。")])]),t._v(" "),s("p",[t._v("将嵌套导航器看作是实现您想要的UI的一种方式，而不是组织代码的一种方式。如果你想为组织创建单独的屏幕组，而不是使用单独的导航器，可以考虑这样做:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Define multiple groups of screens in objects like this")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" commonScreens "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Help"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" HelpScreen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" authScreens "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  SignIn"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SignInScreen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  SignUp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SignUpScreen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" userScreens "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Home"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" HomeScreen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  Profile"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ProfileScreen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Then use them in your components by looping over the object and creating screen configs")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// You could extract this logic to a utility function and reuse it to simplify your code")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("entries")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Use the screens normally")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("commonScreens"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Use some screens conditionally based on some condition")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isLoggedIn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" userScreens "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" authScreens"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Screen name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Stack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Navigator"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);